# 更新日志

本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

## [1.0.3] - 2026-01-24 (Bug Fix Release)

### 问题修复
- 🐛 **Socket连接优化**: 修复Socket连接失败后的重试机制
- 🐛 **连接稳定性**: 添加3次自动重试，提高连接成功率
- 🐛 **房间列表获取**: 优化getRoomList的错误处理和重试逻辑
- 🐛 **音乐服务清理**: 移除未使用的在线音乐服务（网易云音乐、QQ音乐、Jamendo）
- 🐛 **代码优化**: 清理临时测试文档和启动脚本

### 改进
- 🚀 **连接重试**: Socket连接失败时自动重试最多3次
- 🚀 **错误处理**: 改进错误日志和用户反馈
- 🚀 **代码清理**: 移除不必要的依赖和未使用的代码

## [1.0.2] - 2026-01-23 (Package Release)

### 新增
- 📦 发布 NPM 包到 GitHub Packages
- 🚀 添加一键启动脚本（`start-simple.bat`）
- 📚 创建新手友好文档（`INSTALL.md`, `BEGINNER_GUIDE.md`）
- ✨ 简化安装流程，支持直接通过 NPM 安装

### 改进
- 📖 添加详细的初学者使用指南（60页教程）
- 🎯 优化快速开始流程
- 📱 改进局域网多人游戏配置说明
- ❓ 添加 15+ 常见问题解答

### NPM 包
- 后端包: `@whoersir/gomoku-server@1.0.2`
- 前端包: `@whoersir/gomoku-client@1.0.2`

## [1.0.1] - 2026-01-23 (Security Release)

### 安全修复
- 🔒 **硬编码密码**: 管理员密码改为从环境变量 `ADMIN_PASSWORD` 读取
- 🔒 **XSS防护**: 添加 `sanitizeInput` 方法清理所有用户输入
- 🔒 **CORS限制**: 支持通过 `ALLOWED_ORIGINS` 环境变量限制跨域来源
- 🔒 **速率限制**: 添加请求速率限制（每分钟100次）防止滥用
- 🔒 **输入验证**: 增强坐标、玩家名、房间名等输入的验证

### 新增
- 📄 添加 `.env.example` 环境变量配置示例文件

## [1.0.0] - 2026-01-23 (Release)

### 新增
- 基础对战功能
- 局域网实时对战（支持 Socket.io）
- 房间管理系统（创建、加入、查看房间）
- 聊天功能（游戏内实时聊天）
- 对战历史记录（持久化存储）
- 胜负判定（五子连珠算法）
- 平局判定（棋盘满）
- 玩家状态管理

### 技术栈
- 前端: React 18 + Vite + Socket.io-client + Tailwind CSS
- 后端: Express + Socket.io + TypeScript
- 存储: JSON Lines 格式的历史记录

### 功能特性
- ✅ 实时对战 - Socket.io驱动的毫秒级同步
- ✅ 聊天系统 - 游戏中实时沟通
- ✅ 房间管理 - 支持多个并发游戏房间
- ✅ 历史记录 - 完整的对战数据持久化
- ✅ 现代UI - 深色主题 + 优雅动画
- ✅ 局域网支持 - 开箱即用的本地网络游戏
- ✅ 跨平台 - Windows/macOS/Linux通用
